<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <title>360 全景浏览</title>

  <!-- Pannellum 样式 -->
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.css"
  />

  <style>
    html, body {
      margin: 0;
      height: 100%;
    }

    body {
      display: flex;
      flex-direction: row;
      height: 100vh; /* 确保 flex 父容器高度 */
    }

    /* 左侧列表 */
    #sceneList {
      width: 100px;
      background: #f2f2f2;
      padding: 10px;
      box-sizing: border-box;
    }
    #sceneList button {
      width: 100%;
      margin: 5px 0;
      padding: 10px;
      cursor: pointer;
      font-size: 16px;
    }

    /* 右侧 360 容器 */
    #pano {
      flex: 1;
      min-width: 100; /* 修复 flex-item 内容溢出时不显示 */
      height: 100%;
    }
  </style>
</head>
<body>

<!-- 左侧场景列表 -->
<div id="sceneList">
  <button onclick="switchScene('scene1')">一号</button>
  <button onclick="switchScene('scene2')">二号</button>
  <!-- <button onclick="switchScene('kitchen')">厨房</button> -->
</div>

<!-- 右侧 360 渲染器 -->
<div id="pano"></div>

<!-- Pannellum JS -->
<script src="https://cdn.jsdelivr.net/npm/pannellum@2.5.6/build/pannellum.js"></script>
<script>
  // 定义场景数据
  const scenesData = {
    scene1: { type: "equirectangular", panorama: "dawn.jpg" },
    scene2: { type: "equirectangular", panorama: "pano.jpg" },
    // kitchen: { type: "equirectangular", panorama: "kitchen.jpg" }
  };

  // 创建 Pannellum Viewer
  const viewer = pannellum.viewer('pano', {
    default: {
      firstScene: "scene1",
      autoLoad: true,
      sceneFadeDuration: 1000
    },
    scenes: scenesData
  });

  // 切换场景函数
  function switchScene(sceneId) {
    viewer.loadScene(sceneId);  // Pannellum 默认 loadScene 需要场景对象
  }

  // 窗口大小变化自动调整
  window.addEventListener('resize', () => {
    viewer.resize();
  });
</script>

</body>
</html>
